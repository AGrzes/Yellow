type: SiteModel
menu:
  - name: News
    view:
      type: DeclarativeView
      contents:
        - type: List
          list:
            selector: 
              type: TypeSelector
              selector: Change
            order:
              field: date
              direction: descending
          style: plain
          item:
            type: Card
            contents:
              - type: Field
                field: date
                format: date
                slot: header
              - type: Field
                field: description
                format: markdown
                slot: content 
  - name: Reference
    view:
      type: DeclarativeView
      contents: 
        - type: MesterDetail
          master:
            - type: TOC
              data:
                selector: 
                  type: ExpressionSelector
                  selector: this.type == 'Category' || this.type == 'Reference'    
                order:
                  field: name
              item:
                type: DetailsLink
                label: 
                  field: name    
          detail:
            - type: Switch
              case:
                field: type
              when:
                Category:
                  type: Card
                  contents:
                    - type: Field
                      field: name
                      slot: header
                    - type: LinkList
                      data: 
                        constructor: this.children
                      label:
                        fiels: name                
                Reference:
                  type: Card
                  contents:
                    - type: Field
                      field: name
                      slot: header
                    - type: Field
                      field: description
                      format: markdown
                      slot: content 
                God:   
                  type: Card
                  contents:
                    - type: Field
                      field: name
                      slot: header
                    - type: Property
                      field: character
                      label: Character
                      slot: content 
                    - type: Property
                      field: domain
                      label: Domain
                      slot: content    
                    - type: Property
                      field: symbol
                      label: Symbol
                      slot: content                                                                 
                    - type: Field
                      field: description
                      format: markdown
                      slot: content                          
  - name: Characters 
    view:
      type: ListView
      selector: 
        type: TypeSelector
        selector: Character
      template:
        type: FileTemplate
        file: character-item.mustache
  - name: Locations
    view:
      type: ListView
      selector: 
        type: TypeSelector
        selector: Location
      template:
        type: FileTemplate
        file: location-item.mustache 
  - name: Organizations
    submenu:
    - name: Religions
      view:
        type: ListView
        selector: 
          type: TypeSelector
          selector: Religion
        template:
          type: FileTemplate
          file: organization-item.mustache     
    - name: Domains
      view:
        type: ListView
        selector: 
          type: TypeSelector
          selector: Domain
        template:
          type: FileTemplate
          file: organization-item.mustache      
    - name: Guilds
      view:
        type: ListView
        selector: 
          type: TypeSelector
          selector: Guild
        template:
          type: FileTemplate
          file: organization-item.mustache          
  - name: Items
    view:
      type: DeclarativeView
      contents:
        - type: List
          list:
            selector: 
              type: TypeSelector
              selector: Item
          style: plain
          item:
            type: Card
            contents:
              - type: Field
                field: kind
                slot: header
              - type: Field
                field: name
                slot: header                
              - type: Badge
                field: value
                slot: header                
              - type: Field
                field: description
                format: markdown
                slot: content 
  - name: Sessions  
    view:
      type: ListView
      selector: 
        type: TypeSelector
        selector: Session
      template:
        type: FileTemplate
        file: session-item.mustache   
